{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tdegi\\\\OneDrive\\\\Desktop\\\\Bootcamp\\\\Repository\\\\fifth-street\\\\client\\\\src\\\\components\\\\Sort\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Image, Dropdown } from \"react-bootstrap\";\nimport sortProducts from \"../../utils/helpers.js\";\nimport { UPDATE_PRODUCTS } from '../../utils/actions.js';\nimport { QUERY_PRODUCTS } from '../../utils/queries.js';\nimport { useQuery } from '@apollo/client';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { idbPromise } from '../../utils/helpers';\nconst Sort = () => {\n  const [state, dispatch] = useStoreContext();\n  const {\n    loading,\n    data\n  } = useQuery(QUERY_PRODUCTS);\n  const [sortOption, setSortOption] = useState('');\n  const handleSort = e => {\n    setSortOption(e);\n    {\n      sortProducts(sortOption, data);\n    }\n  };\n  useEffect(() => {\n    //if there's data to be stored\n    if (data) {\n      //store it in the global state object\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products\n      });\n\n      //but also take each product and save it to IndexedDB using the helper function\n      data.products.forEach(product => {\n        idbPromise('products', 'put', product);\n      });\n      //add else if to check if 'loading' is undefined in 'useQuery()' hook\n    } else if (!loading) {\n      //since we're offline, get all of the data from the 'products' store\n      idbPromise('products', 'get').then(products => {\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: products\n        });\n      });\n    }\n  }, [data, loading, dispatch]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    variant: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Sort Products:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, sortOption), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"Name\",\n    onSelect: handleSort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"Price Low to High\",\n    onSelect: handleSort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Price Low to High\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"Price High to Low\",\n    onSelect: handleSort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Price High to Low\"))))));\n};\nexport default Sort;","map":{"version":3,"names":["React","useState","useEffect","Container","Image","Dropdown","sortProducts","UPDATE_PRODUCTS","QUERY_PRODUCTS","useQuery","useStoreContext","idbPromise","Sort","state","dispatch","loading","data","sortOption","setSortOption","handleSort","e","type","products","forEach","product","then"],"sources":["C:/Users/tdegi/OneDrive/Desktop/Bootcamp/Repository/fifth-street/client/src/components/Sort/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Image,\r\n  Dropdown,\r\n} from \"react-bootstrap\";\r\nimport sortProducts from \"../../utils/helpers.js\";\r\nimport { UPDATE_PRODUCTS } from '../../utils/actions.js';\r\nimport { QUERY_PRODUCTS } from '../../utils/queries.js';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\nconst Sort = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n    const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n    const [sortOption, setSortOption] = useState('');\r\n\r\n    const handleSort = (e) => {\r\n        setSortOption(e);\r\n        {sortProducts(sortOption, data)}\r\n    }\r\n\r\n    useEffect(() => {\r\n        //if there's data to be stored\r\n        if (data) {\r\n          //store it in the global state object\r\n          dispatch({\r\n            type: UPDATE_PRODUCTS,\r\n            products: data.products\r\n          });\r\n    \r\n          //but also take each product and save it to IndexedDB using the helper function\r\n          data.products.forEach((product) => {\r\n            idbPromise('products', 'put', product);\r\n          });\r\n          //add else if to check if 'loading' is undefined in 'useQuery()' hook\r\n        } else if (!loading) {\r\n          //since we're offline, get all of the data from the 'products' store\r\n          idbPromise('products', 'get').then((products) => {\r\n            dispatch({\r\n              type: UPDATE_PRODUCTS,\r\n              products: products\r\n            });\r\n          });\r\n        }\r\n    }, [data, loading, dispatch]);\r\n\r\n\r\n    return (\r\n      <>\r\n        <Container>\r\n          {/* <Image\r\n            src={require(`../../assets/logo.jpg`)}\r\n            fluid\r\n            className='background-image'\r\n          /> */}\r\n          <div>\r\n            <Dropdown>\r\n              <Dropdown.Toggle\r\n                variant=\"light\"\r\n              >\r\n                Sort Products:\r\n              </Dropdown.Toggle>\r\n                <p>{sortOption}</p>\r\n              <Dropdown.Menu>\r\n                <Dropdown.Item eventKey=\"Name\" onSelect={handleSort}>Name</Dropdown.Item>\r\n                <Dropdown.Item eventKey=\"Price Low to High\" onSelect={handleSort}>Price Low to High</Dropdown.Item>\r\n                <Dropdown.Item eventKey=\"Price High to Low\" onSelect={handleSort}>Price High to Low</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </div>\r\n        </Container>\r\n      </>\r\n    );\r\n  };\r\n  \r\nexport default Sort;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,SAAS,EACTC,KAAK,EACLC,QAAQ,QACH,iBAAiB;AACxB,OAAOC,YAAY,MAAM,wBAAwB;AACjD,SAASC,eAAe,QAAQ,wBAAwB;AACxD,SAASC,cAAc,QAAQ,wBAAwB;AACvD,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,eAAe,QAAQ,yBAAyB;AACzD,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,MAAMC,IAAI,GAAG,MAAM;EACf,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,eAAe,EAAE;EAC3C,MAAM;IAAEK,OAAO;IAAEC;EAAK,CAAC,GAAGP,QAAQ,CAACD,cAAc,CAAC;EAClD,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMkB,UAAU,GAAIC,CAAC,IAAK;IACtBF,aAAa,CAACE,CAAC,CAAC;IAChB;MAACd,YAAY,CAACW,UAAU,EAAED,IAAI,CAAC;IAAA;EACnC,CAAC;EAEDd,SAAS,CAAC,MAAM;IACZ;IACA,IAAIc,IAAI,EAAE;MACR;MACAF,QAAQ,CAAC;QACPO,IAAI,EAAEd,eAAe;QACrBe,QAAQ,EAAEN,IAAI,CAACM;MACjB,CAAC,CAAC;;MAEF;MACAN,IAAI,CAACM,QAAQ,CAACC,OAAO,CAAEC,OAAO,IAAK;QACjCb,UAAU,CAAC,UAAU,EAAE,KAAK,EAAEa,OAAO,CAAC;MACxC,CAAC,CAAC;MACF;IACF,CAAC,MAAM,IAAI,CAACT,OAAO,EAAE;MACnB;MACAJ,UAAU,CAAC,UAAU,EAAE,KAAK,CAAC,CAACc,IAAI,CAAEH,QAAQ,IAAK;QAC/CR,QAAQ,CAAC;UACPO,IAAI,EAAEd,eAAe;UACrBe,QAAQ,EAAEA;QACZ,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACJ,CAAC,EAAE,CAACN,IAAI,EAAED,OAAO,EAAED,QAAQ,CAAC,CAAC;EAG7B,oBACE;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAMR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACP,oBAAC,QAAQ,CAAC,MAAM;IACd,OAAO,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAChB,gBAED,CAAkB,eAChB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAIG,UAAU,CAAK,eACrB,oBAAC,QAAQ,CAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACZ,oBAAC,QAAQ,CAAC,IAAI;IAAC,QAAQ,EAAC,MAAM;IAAC,QAAQ,EAAEE,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,MAAI,CAAgB,eACzE,oBAAC,QAAQ,CAAC,IAAI;IAAC,QAAQ,EAAC,mBAAmB;IAAC,QAAQ,EAAEA,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,mBAAiB,CAAgB,eACnG,oBAAC,QAAQ,CAAC,IAAI;IAAC,QAAQ,EAAC,mBAAmB;IAAC,QAAQ,EAAEA,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,mBAAiB,CAAgB,CACrF,CACP,CACP,CACI,CACX;AAEP,CAAC;AAEH,eAAeP,IAAI"},"metadata":{},"sourceType":"module"}