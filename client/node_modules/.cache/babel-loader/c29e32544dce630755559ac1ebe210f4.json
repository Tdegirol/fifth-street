{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tdegi\\\\OneDrive\\\\Desktop\\\\Bootcamp\\\\Repository\\\\Shop-Shop\\\\client\\\\src\\\\components\\\\Cart\\\\index.js\";\nimport React, { useEffect } from 'react';\nimport CartItem from '../CartItem';\nimport Auth from '../../utils/auth';\nimport './style.css';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\nconst Cart = () => {\n  const [state, dispatch] = useStoreContext();\n  useEffect(() => {\n    async function getCart() {\n      const cart = await idbPromise('cart', 'get');\n      dispatch({\n        type: ADD_MULTIPLE_TO_CART,\n        products: [...cart]\n      });\n    }\n  });\n  function toggleCart() {\n    dispatch({\n      type: TOGGLE_CART\n    });\n  }\n  function calculateTotal() {\n    let sum = 0;\n    state.cart.forEach(item => {\n      sum += item.price * item.purchaseQuantity;\n    });\n    return sum.toFixed(2);\n  }\n  if (!state.cartOpen) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-closed\",\n      onClick: toggleCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, \"\\uD83D\\uDED2\"));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"close\",\n    onClick: toggleCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, \"[close]\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"Shopping Cart\"), state.cart.length ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, state.cart.map(item => /*#__PURE__*/React.createElement(CartItem, {\n    key: item._id,\n    item: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-row space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Total: $\", calculateTotal()), Auth.loggedIn() ? /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Checkout\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"(log in to check out)\"))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"shocked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"\\uD83D\\uDE31\"), \"You haven't added anything to your cart yet!\"));\n};\nexport default Cart;","map":{"version":3,"names":["React","useEffect","CartItem","Auth","useStoreContext","TOGGLE_CART","ADD_MULTIPLE_TO_CART","idbPromise","Cart","state","dispatch","getCart","cart","type","products","toggleCart","calculateTotal","sum","forEach","item","price","purchaseQuantity","toFixed","cartOpen","length","map","_id","loggedIn"],"sources":["C:/Users/tdegi/OneDrive/Desktop/Bootcamp/Repository/Shop-Shop/client/src/components/Cart/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport CartItem from '../CartItem';\r\nimport Auth from '../../utils/auth';\r\nimport './style.css';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../../utils/actions';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\nconst Cart = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n    useEffect(() => {\r\n        async function getCart() {\r\n            const cart = await idbPromise('cart', 'get');\r\n            dispatch({ type: ADD_MULTIPLE_TO_CART, products: [...cart] })\r\n        }\r\n    })\r\n\r\n    function toggleCart() {\r\n        dispatch({ type: TOGGLE_CART });\r\n    }\r\n\r\n    function calculateTotal() {\r\n        let sum = 0;\r\n        state.cart.forEach(item => {\r\n            sum += item.price * item.purchaseQuantity;\r\n        });\r\n        return sum.toFixed(2);\r\n    }\r\n\r\n    if (!state.cartOpen) {\r\n        return (\r\n          <div className=\"cart-closed\" onClick={toggleCart}>\r\n            <span\r\n              role=\"img\"\r\n              aria-label=\"trash\">ðŸ›’</span>\r\n          </div>\r\n        );\r\n      }\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n    <div className=\"close\" onClick={toggleCart}>[close]</div>\r\n    <h2>Shopping Cart</h2>\r\n    {state.cart.length ? (\r\n        <div>\r\n        {state.cart.map(item => (\r\n            <CartItem key={item._id} item={item} />\r\n        ))}\r\n        <div className=\"flex-row space-between\">\r\n            <strong>Total: ${calculateTotal()}</strong>\r\n            {\r\n            Auth.loggedIn() ?\r\n                <button>\r\n                Checkout\r\n                </button>\r\n                :\r\n                <span>(log in to check out)</span>\r\n            }\r\n        </div>\r\n        </div>\r\n    ) : (\r\n        <h3>\r\n        <span role=\"img\" aria-label=\"shocked\">\r\n            ðŸ˜±\r\n        </span>\r\n        You haven't added anything to your cart yet!\r\n        </h3>\r\n    )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAO,aAAa;AACpB,SAASC,eAAe,QAAQ,yBAAyB;AACzD,SAASC,WAAW,EAAEC,oBAAoB,QAAQ,qBAAqB;AACvE,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,MAAMC,IAAI,GAAG,MAAM;EACf,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,eAAe,EAAE;EAC3CH,SAAS,CAAC,MAAM;IACZ,eAAeU,OAAO,GAAG;MACrB,MAAMC,IAAI,GAAG,MAAML,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC;MAC5CG,QAAQ,CAAC;QAAEG,IAAI,EAAEP,oBAAoB;QAAEQ,QAAQ,EAAE,CAAC,GAAGF,IAAI;MAAE,CAAC,CAAC;IACjE;EACJ,CAAC,CAAC;EAEF,SAASG,UAAU,GAAG;IAClBL,QAAQ,CAAC;MAAEG,IAAI,EAAER;IAAY,CAAC,CAAC;EACnC;EAEA,SAASW,cAAc,GAAG;IACtB,IAAIC,GAAG,GAAG,CAAC;IACXR,KAAK,CAACG,IAAI,CAACM,OAAO,CAACC,IAAI,IAAI;MACvBF,GAAG,IAAIE,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,gBAAgB;IAC7C,CAAC,CAAC;IACF,OAAOJ,GAAG,CAACK,OAAO,CAAC,CAAC,CAAC;EACzB;EAEA,IAAI,CAACb,KAAK,CAACc,QAAQ,EAAE;IACjB,oBACE;MAAK,SAAS,EAAC,aAAa;MAAC,OAAO,EAAER,UAAW;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAC/C;MACE,IAAI,EAAC,KAAK;MACV,cAAW,OAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAC,cAAE,CAAO,CAC1B;EAEV;EAEJ,oBACE;IAAK,SAAS,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACrB;IAAK,SAAS,EAAC,OAAO;IAAC,OAAO,EAAEA,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,SAAO,CAAM,eACzD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAI,eAAa,CAAK,EACrBN,KAAK,CAACG,IAAI,CAACY,MAAM,gBACd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACCf,KAAK,CAACG,IAAI,CAACa,GAAG,CAACN,IAAI,iBAChB,oBAAC,QAAQ;IAAC,GAAG,EAAEA,IAAI,CAACO,GAAI;IAAC,IAAI,EAAEP,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACvC,CAAC,eACF;IAAK,SAAS,EAAC,wBAAwB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAQ,UAAQ,EAACH,cAAc,EAAE,CAAU,EAE3Cb,IAAI,CAACwB,QAAQ,EAAE,gBACX;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAQ,UAER,CAAS,gBAET;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAM,uBAAqB,CAAO,CAEpC,CACA,gBAEN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAM,IAAI,EAAC,KAAK;IAAC,cAAW,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,cAEtC,CAAO,gDAEP,CACH,CACK;AAEV,CAAC;AAED,eAAenB,IAAI"},"metadata":{},"sourceType":"module"}